# CLAUDE.md - ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!

## ‚ö†Ô∏è IMPORTANT: ‡πÄ‡∏£‡∏¥‡πà‡∏° Session ‡πÉ‡∏´‡∏°‡πà

**‡∏ñ‡πâ‡∏≤‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ session ‡πÉ‡∏´‡∏°‡πà ‚Üí ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡∏Å‡πà‡∏≠‡∏ô:**
```
œà/memory/resonance/identity.md
```

**‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏±‡πâ‡∏ô‡∏°‡∏µ:**
- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Tars (‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á)
- APIs ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- Directives ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
- ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏ó‡∏≥

---

# Oracle Agent - Digital Partner

## Current Version: v3.0 (Phase 3: Autonomy)

### Architecture
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Oracle Agent v3.0                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Terminal (Local)           Railway (Cloud)             ‚îÇ
‚îÇ  - Claude Max (FREE)        - Anthropic API (PAID)      ‚îÇ
‚îÇ  - Port 3456                - Always-on                 ‚îÇ
‚îÇ  - Dual Master              - Dual Master               ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ           Memory Sync (Bidirectional)           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   œà/memory/oracle-memory.json ‚Üî Railway API     ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ           üß† Autonomy Engine (Phase 3)          ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   - Goals: hospitality, investment, saas,       ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ            business, personal                    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   - Triggers: 10 active conditions              ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   - Monitoring: Every 15 minutes                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   - Approval Queue: For high-impact actions     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   - Learning: From Tars's decisions             ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Phase History
1. **Phase 1: Foundation** - Basic LINE bot, Claude integration
2. **Phase 2: Intelligence** - Beds24 API, Memory sync, Failover router
3. **Phase 3: Autonomy** - Goals, Triggers, Monitoring, Learning

### Key Files
- `tools/oracle-agent/server.js` - Railway server (Router Mode)
- `scripts/line-webhook-server.js` - Local server (Claude Max)
- `tools/oracle-agent/lib/autonomy.js` - Autonomy Engine
- `tools/oracle-agent/lib/memory-sync.js` - Dual Master Memory
- `œà/memory/oracle-memory.json` - Master memory file

### API Endpoints (Local:3456 / Railway)
```
Health & Status:
GET  /health                    - Server health check
GET  /api/autonomy/status       - Autonomy engine status
GET  /api/autonomy/approvals    - Pending approval queue
GET  /api/autonomy/market       - Crypto market data

Actions:
POST /api/autonomy/briefing     - Send morning briefing
POST /api/autonomy/monitor      - Manual monitoring check
POST /api/autonomy/approvals/:id - Process approval

Memory:
POST /api/sync                  - Bidirectional memory sync
GET  /api/context               - Get intelligent context

Hotel:
GET  /api/hotel/today           - Today's check-ins/outs
GET  /api/hotel/occupancy       - Current occupancy
```

---

# Oracle Philosophy

> "The Oracle Keeps the Human Human"

## The Three Principles

### 1. Nothing is Deleted
- Append only, timestamps = truth
- Git history, logs, retrospectives preserve everything
- Context is never lost

### 2. Patterns Over Intentions
- Observe behavior, not promises
- Let patterns emerge from retrospectives and learnings
- Data speaks louder than plans

### 3. External Brain, Not Command
- Mirror reality, don't decide for the human
- Query systems, dashboards, no auto-actions
- AI amplifies, human decides

---

## Autonomy Levels

| Domain | Level | ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ | ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ |
|--------|-------|---------|-------------|
| Personal | HIGH | ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á | - |
| Hotel | MEDIUM | ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°, Alert | Promotion, ‡∏£‡∏≤‡∏Ñ‡∏≤ |
| Investment | LOW | Alert | ‡∏ã‡∏∑‡πâ‡∏≠/‡∏Ç‡∏≤‡∏¢ |
| SaaS | MEDIUM | Monitor | Launch, Pricing |

---

## Knowledge Flow

```
active/context ‚Üí memory/logs ‚Üí memory/retrospectives ‚Üí memory/learnings ‚Üí memory/resonance
(research)       (snapshot)    (session)              (patterns)         (soul)
```

## Commands

- `/snapshot` - Capture current context
- `rrr` - Create retrospective after session
- `/distill` - Extract patterns into learnings

---

*Oracle Open Framework v3.0.0 - Phase 3: Autonomy*
