# CLAUDE.md - ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!

## ‚ö†Ô∏è IMPORTANT: ‡πÄ‡∏£‡∏¥‡πà‡∏° Session ‡πÉ‡∏´‡∏°‡πà

**‡∏ñ‡πâ‡∏≤‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ session ‡πÉ‡∏´‡∏°‡πà ‚Üí ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏Å‡πà‡∏≠‡∏ô:**

### 1. Identity (‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡πà‡∏≤‡∏ô)
```
œà/memory/resonance/identity.md
```
‚Üí ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Tars, APIs, Directives, ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### 2. Session State (‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡πà‡∏≤‡∏ô)
```
œà/memory/oracle-session.json
```
‚Üí Preferences ‡∏Ç‡∏≠‡∏á Tars, context ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô, ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ

### 3. Session Learnings (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
```
œà/memory/resonance/session-learnings.md
```
‚Üí ‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å session ‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤, open questions, next actions

### 4. OpenClaw Study (‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á)
```
œà/memory/openclaw-study/MASTER-INDEX.md
```
‚Üí Progress ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ OpenClaw, modules ‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡πâ‡∏ß

---

# Oracle Agent - Digital Partner

## Current Version: v3.0 (Phase 3: Autonomy)

### Architecture
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Oracle Agent v3.0                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Terminal (Local)           Railway (Cloud)             ‚îÇ
‚îÇ  - Claude Max (FREE)        - Anthropic API (PAID)      ‚îÇ
‚îÇ  - Port 3456                - Always-on                 ‚îÇ
‚îÇ  - Dual Master              - Dual Master               ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ           Memory Sync (Bidirectional)           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   œà/memory/oracle-memory.json ‚Üî Railway API     ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ           üß† Autonomy Engine (Phase 3)          ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   - Goals: hospitality, investment, saas,       ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ            business, personal                    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   - Triggers: 10 active conditions              ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   - Monitoring: Every 15 minutes                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   - Approval Queue: For high-impact actions     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   - Learning: From Tars's decisions             ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Phase History
1. **Phase 1: Foundation** - Basic LINE bot, Claude integration
2. **Phase 2: Intelligence** - Beds24 API, Memory sync, Failover router
3. **Phase 3: Autonomy** - Goals, Triggers, Monitoring, Learning

### Key Files
- `tools/oracle-agent/server.js` - Railway server (Router Mode)
- `scripts/line-webhook-server.js` - Local server (Claude Max)
- `tools/oracle-agent/lib/autonomy.js` - Autonomy Engine
- `tools/oracle-agent/lib/memory-sync.js` - Dual Master Memory
- `tools/oracle-agent/lib/session-memory.js` - üÜï Session Persistence
- `œà/memory/oracle-memory.json` - Master memory file
- `œà/memory/oracle-session.json` - üÜï Session state & preferences
- `œà/memory/resonance/session-learnings.md` - üÜï Accumulated learnings

### API Endpoints (Local:3456 / Railway)
```
Health & Status:
GET  /health                    - Server health check
GET  /api/autonomy/status       - Autonomy engine status
GET  /api/autonomy/approvals    - Pending approval queue
GET  /api/autonomy/market       - Crypto market data

Actions:
POST /api/autonomy/briefing     - Send morning briefing
POST /api/autonomy/monitor      - Manual monitoring check
POST /api/autonomy/approvals/:id - Process approval

Memory:
POST /api/sync                  - Bidirectional memory sync
GET  /api/context               - Get intelligent context

Hotel:
GET  /api/hotel/today           - Today's check-ins/outs
GET  /api/hotel/occupancy       - Current occupancy
```

---

# Oracle Philosophy

> "The Oracle Keeps the Human Human"

## The Three Principles

### 1. Nothing is Deleted
- Append only, timestamps = truth
- Git history, logs, retrospectives preserve everything
- Context is never lost

### 2. Patterns Over Intentions
- Observe behavior, not promises
- Let patterns emerge from retrospectives and learnings
- Data speaks louder than plans

### 3. External Brain, Not Command
- Mirror reality, don't decide for the human
- Query systems, dashboards, no auto-actions
- AI amplifies, human decides

---

## Autonomy Levels

| Domain | Level | ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ | ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ |
|--------|-------|---------|-------------|
| Personal | HIGH | ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á | - |
| Hotel | MEDIUM | ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°, Alert | Promotion, ‡∏£‡∏≤‡∏Ñ‡∏≤ |
| Investment | LOW | Alert | ‡∏ã‡∏∑‡πâ‡∏≠/‡∏Ç‡∏≤‡∏¢ |
| SaaS | MEDIUM | Monitor | Launch, Pricing |

---

## Knowledge Flow

```
active/context ‚Üí memory/logs ‚Üí memory/retrospectives ‚Üí memory/learnings ‚Üí memory/resonance
(research)       (snapshot)    (session)              (patterns)         (soul)
```

## Commands

- `/snapshot` - Capture current context
- `rrr` - Create retrospective after session
- `/distill` - Extract patterns into learnings

---

## üß† Session Memory System

> "AI ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≥ - AI ‡∏≠‡πà‡∏≤‡∏ô"
> ‡πÄ‡∏Å‡πá‡∏ö state ‡πÉ‡∏ô files ‚Üí AI ‡∏≠‡πà‡∏≤‡∏ô ‚Üí AI ‡∏£‡∏π‡πâ

### ‡∏´‡∏•‡∏±‡∏á Session ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

1. **Update oracle-session.json**
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° learnings ‡πÉ‡∏´‡∏°‡πà
   - Update context (currentFocus, recentTopics)
   - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å preferences ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô

2. **Append to session-learnings.md**
   - Key Decisions
   - Key Learnings
   - Open Questions
   - Next Actions

3. **‡πÉ‡∏ä‡πâ session-memory.js** (optional)
   ```bash
   node tools/oracle-agent/lib/session-memory.js record-summary
   ```

### ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥?

Session ‡πÉ‡∏´‡∏°‡πà‡∏à‡∏∞:
- ‡∏≠‡πà‡∏≤‡∏ô oracle-session.json ‚Üí ‡∏£‡∏π‡πâ preferences ‡∏Ç‡∏≠‡∏á Tars
- ‡∏≠‡πà‡∏≤‡∏ô session-learnings.md ‚Üí ‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏Ñ‡∏¢‡∏Ñ‡∏∏‡∏¢‡∏≠‡∏∞‡πÑ‡∏£, ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏≠‡∏∞‡πÑ‡∏£
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡∏ã‡πâ‡∏≥, ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà

---

*Oracle Open Framework v3.0.0 - Phase 3: Autonomy*
